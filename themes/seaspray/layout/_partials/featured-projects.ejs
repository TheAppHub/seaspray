<section class="py-16">
	<div class="container mx-auto px-4">
		<div class="mx-auto max-w-screen-sm text-center mb-12">
			<h2 class="text-4xl font-bold text-white mb-4">Our Projects</h2>
			<p class="text-xl text-primary-200">
				Explore our award-winning pool designs and transformations
			</p>
		</div>
		<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
			<% const portfolioPosts = site.posts.filter(post => post.source.startsWith('_posts/portfolio/') && post.featured).sort((a, b) => a.featured - b.featured); %>
			<% if (portfolioPosts.length > 0) { portfolioPosts.forEach(post => { %>
			<div class="rounded-lg overflow-hidden shadow-lg bg-primary-800">
				<a href="<%- url_for(post.path) %>">
					<img
						class="w-full h-72 object-cover"
						src="<%- url_for(post.path + '/' + post.thumbnail_image) %>"
						alt="<%- post.title %>"
					/>
				</a>
				<div class="p-6">
					<a href="<%- url_for(post.path) %>">
						<h3
							class="text-xl font-bold text-white mb-2 hover:text-primary-200 transition-colors"
						>
							<%- post.title %>
						</h3>
					</a>
					<p class="text-primary-200 mb-4">
						<%- post.excerpt || post.description %>
					</p>
					<div class="flex flex-wrap gap-2 mb-4">
						<% if (post.tags && post.tags.data && post.tags.data.length > 0) {
						post.tags.data.forEach(function(tag) { %>
						<span
							class="bg-primary-700 text-primary-200 text-sm px-3 py-1 rounded-full"
							><%= tag.name %></span
						>
						<% }); } %>
					</div>
					<a
						href="<%- url_for(post.path) %>"
						class="inline-flex items-center text-primary-400 hover:text-primary-300 transition-colors"
					>
						View Project
						<svg
							class="w-4 h-4 ml-2"
							aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 14 10"
						>
							<path
								stroke="currentColor"
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M1 5h12m0 0L9 1m4 4L9 9"
							/>
						</svg>
					</a>
				</div>
			</div>
			<% }); } else { %>
			<div class="col-span-3 text-center text-primary-200">
				<p>No featured projects available at the moment.</p>
			</div>
			<% } %>
		</div>
		<div class="text-center mt-8">
			<a href="/portfolio" class="inline-flex items-center px-4 py-2 text-sm font-medium text-center text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-blue-800">
				View all Projects
				<svg class="rtl:rotate-180 w-3.5 h-3.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
					<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
				</svg>
			</a>
		</div>
	</div>
</section>
