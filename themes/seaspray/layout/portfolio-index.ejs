<%- partial('_partials/header') %>

<main class="py-16">
	<div class="container mx-auto px-4">
		<div class="max-w-7xl mx-auto">
			<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
				<% site.posts.filter(post => {
					if (!post.categories || !post.categories.data) return false;
					return post.categories.data.some(cat => cat.name === 'portfolio');
				}).each(function(project) { %>
				<article
					class="bg-primary-800 rounded-lg overflow-hidden shadow-xl transition-transform duration-300 hover:scale-105"
				>
					<a href="<%- url_for(project.path) %>">
						<img
							class="w-full h-64 object-cover"
							src="<%- url_for(project.featured_image) %>"
							alt="<%- project.title %>"
						/>
					</a>
					<div class="p-6">
						<a href="<%- url_for(project.path) %>">
							<h3
								class="text-xl font-bold text-white mb-2 hover:text-primary-200 transition-colors"
							>
								<%- project.title %>
							</h3>
						</a>
						<p class="text-primary-200 mb-4">
							<%- project.excerpt || project.description %>
						</p>
						<div class="flex flex-wrap gap-2 mb-4">
							<% if (project.tags && project.tags.data && project.tags.data.length > 0) {
							project.tags.data.forEach(function(tag) { %>
							<span
								class="bg-primary-700 text-primary-200 text-sm px-3 py-1 rounded-full"
								><%= tag.name %></span
							>
							<% }); } %>
						</div>
						<a
							href="<%- url_for(project.path) %>"
							class="inline-flex items-center text-primary-400 hover:text-primary-300 transition-colors"
						>
							View Project
							<svg
								class="w-4 h-4 ml-2"
								aria-hidden="true"
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 14 10"
							>
								<path
									stroke="currentColor"
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M1 5h12m0 0L9 1m4 4L9 9"
								/>
							</svg>
						</a>
					</div>
				</article>
				<% }); %>
			</div>
		</div>
	</div>
</main>

<%- partial('_partials/footer') %>
